{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="pt-br" x-data="{ darkMode: false }" :class="{ 'dark': darkMode }" x-init="
    darkMode = localStorage.getItem('theme') === 'dark';
    $watch('darkMode', value => localStorage.setItem('theme', value ? 'dark' : 'light'));
">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  {% tailwind_css %}
  <title>{% block title %}Meu Portfólio{% endblock %}</title>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
</head>
<body :class="darkMode ? 'bg-gray-900 text-gray-100' : 'bg-white text-gray-900'" class="transition-colors duration-500">
  <main class="min-h-screen p-4">
    {% block content %}{% endblock %}
  </main>

  <!-- Navbar fixa inferior -->
  <div class="fixed bottom-0 left-0 w-full flex justify-around bg-gray-100 dark:bg-gray-800 border-t border-gray-300 dark:border-gray-600 py-2 shadow-inner">
    <!-- Botão: Sobre -->
    <button 
    hx-get="{% url 'sobre' %}" 
    hx-target="#htmx-content" 
    hx-swap="innerHTML transition:true" 
    class="flex flex-col items-center">
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4S14.21 4 12 4 8 5.79 8 8s1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
    <span class="text-xs">Sobre</span>
    </button>

    <!-- Botão: Projetos -->
    <button 
    hx-get="{% url 'projetos' %}" 
    hx-target="#htmx-content" 
    hx-swap="innerHTML transition:true" 
    class="flex flex-col items-center">
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm4 0h2v-2H7v2zm4 0h8v-2h-8v2z"/></svg>
    <span class="text-xs">Projetos</span>
    </button>

    <!-- Botão: Contato -->
    <button 
    hx-get="{% url 'contato' %}" 
    hx-target="#htmx-content" 
    hx-swap="innerHTML transition:true" 
    class="flex flex-col items-center">
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M21 8V7l-3 2-2-2-4 3-3-2-6 4v1l6-4 3 2 4-3 2 2z"/></svg>
    <span class="text-xs">Contato</span>
    </button>
    <!-- Botão de tema claro -->
    <button @click="darkMode = false; localStorage.setItem('theme', 'light')" class="flex flex-col items-center">
      <svg class="w-6 h-6 text-yellow-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.75a1 1 0 01.993.883L13 5.75v1a1 1 0 01-1.993.117L11 6.75v-1a1 1 0 011-1zm6.364 1.636a1 1 0 011.32.083l.094.083.707.708a1 1 0 01-1.32 1.497l-.094-.083-.707-.708a1 1 0 010-1.414zM12 17.25a1 1 0 01.993.883L13 18.25v1a1 1 0 01-1.993.117L11 19.25v-1a1 1 0 011-1zm-6.364-1.636a1 1 0 01.083 1.32l-.083.094-.707.708a1 1 0 01-1.497-1.32l.083-.094.707-.708a1 1 0 011.414 0zM4.75 12a1 1 0 01.117 1.993L4.75 14H3.75a1 1 0 01-.117-1.993L3.75 12h1zm15.5 0a1 1 0 01.117 1.993L20.25 14h-1a1 1 0 01-.117-1.993L19.25 12h1zM6.343 6.343a1 1 0 01.083 1.32l-.083.094-.707.708a1 1 0 01-1.497-1.32l.083-.094.707-.708a1 1 0 011.414 0zM17.657 17.657a1 1 0 01.083 1.32l-.083.094-.707.708a1 1 0 01-1.497-1.32l.083-.094.707-.708a1 1 0 011.414 0z"/></svg>
      <span class="text-xs">Claro</span>
    </button>

    <!-- Botão de tema escuro -->
    <button @click="darkMode = true; localStorage.setItem('theme', 'dark')" class="flex flex-col items-center">
      <svg class="w-6 h-6 text-gray-300" fill="currentColor" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 0111.21 3 7 7 0 0012 17a7 7 0 009-4.21z"/></svg>
      <span class="text-xs">Escuro</span>
    </button>
  </div>
</body>
</html>
